<script type="text/javascript">
  $(function () {
      $('table.example-statistics').each(function() {
        var values = [],
        labels = [],
        table = this;
        //$("tr").each(function () {
        $(table).find("tr").each(function () {
          values.push(parseInt($("td", this).text(), 10));
          labels.push($("th", this).text());
        });
        $(table).hide();
        Raphael("holder-"+$(table).attr('holder'), 375, 375).pieChart(175, 175, 100, values, labels, "#fff");
      });
  });
</script>

<table class="table table-bordered">
  <tbody>
    <tr>
      <td>주제</td>
      <td colspan="3"><%= @survey.title %></td>
    </tr>
    <tr>
      <td>설명</td>
      <td colspan="3"><%= @survey.description %></td>
    </tr>
    <tr>
      <td>설문 템플릿</td>
      <td><%= @survey.survey_template.title %></td>
      <td>결과 템플릿</td>
      <td><%= @survey.result_template.title %></td>
    </tr>
  </tbody>
</table>

<% @survey.questions.each do |question| %>
  <div class="well">
    <span class="label"><%= question.question_template.title %></span>
    <div>
      <p><span class="label">질문</span> <%= question.title %></p>
      <% if !question.description.empty? %>
        <p><span class="label">설명</span><%= question.description %></p>
      <% end %>
    </div>
    <div class="question-examples">
      <%= render :partial => "examples/statistics", :locals => {:examples => question.examples, :question => question} %>
    </div>
  </div>
<% end %>
